Note      ZCPR3 Utilities
CLEANDIR  Physical Directory Cleanup
CMD       Input Command Line
MU        Memory Utility RCP
SHSET     Define Shell Sequence
:Note      ZCPR3 Utilities

     Thió  seô  oæ  ZCPR³ utilitieó arå  general-purposå  iî 
naturå  anä  havå  beeî  provideä witè  thå  ZCPR³  Phaså  ² 
release®  Alì utilitieó excepô thå RCĞ caî bå installeä oî á 
targeô ZCPR³ Systeí bù runninç Z3INS.

:CLEANDIR  Physical Directory Cleanup
Command: CLEANDIR 1.0

Syntax:
     CLEANDIR dir: o
or
     CLEANDIR o

Function:
     CLEANDIÒ "cleans¢ á physicaì disë directory®   Iô loadó 
thå  directorù  oæ thå targeô disë  intï  memory¬  sortó  iô 
alphabeticallù  withiî  eacè useò areá (ascendinç  ordeò  bù 
default)¬  anä  writeó iô ouô tï disë witè Eµ filì oæ unuseä 
directorù entries.

     Á DIRº  prefiø ió allowed¬  buô onlù thå disë referencå 
ió meaningful¬  sï iæ "CLEANDIÒ ROOT:¢ ió issueä wherå ROOTº 
is A15:, then disk A is cleaned.

Options:
     D - sort user areas and files in Descending Order

Comments:

     CLEANDIR'ó  sorô  oî thå disë directorù buyó  thå  useò 
several advantages:

          1®  Utilitieó whicè sorô thå disë directorù  afteò 
loadinç  it¬  likå XDIR¬  ruî fasteò sincå thå directorù  ió 
already sorted.

          2®   Thå  possibilitù oæ recoverinç fileó  bù  thå 
UNERASÅ commanä ió increaseä iæ CLEANDIÒ haó beeî ruî oî thå 
directorù recentlù beforå thå fileó werå erased®   Notå thaô 
anù  eraseä fileó absolutelù cannoô bå recovereä bù  UNERASÅ 
iæ  CLEANDIÒ  waó ruî betweeî thå timå theù werå eraseä  anä 
UNERASE was executed.

          3®   Uså  oæ DU2/DU³ tï looë aô thå  directorù  ió 
facilitated if the directory is already sorted by CLEANDIR.


Selected Error Messages:

     Self-Explanatory

Examples of Use:

     CLEANDIR
          -- clean current disk in ascending order

     CLEANDIR A: D
          -- clean disk A in descending order

     CLEANDIR TEXT:
          -- clean the disk which the directory named TEXT
             is defined for in ascending order

     CLEANDIR D
          -- clean current disk in descending order

:CMD      Input Command Line
Command: CMD 1.0

Syntax:

     CMD cmd1;cmd2;...
or
     CMD or CMD;cmd2;...

Function:

     Iæ  CMÄ haó aî argument¬  iô buildó á ne÷ commanä  linå 
whicè  beginó witè thió argumenô anä proceedó witè thå  resô 
oæ thå commanä line®  Foò example¬ thå firsô form:

     CMD cmd1;cmd2;...

is translated into:

     cmd1;cmd2;...


     Thió  ió  gooä  becauså sourceó sucè  aó  MENU¬  VMENU¬ 
anä  VFILEÒ  caî  enteò thå "cmd1¢ variablå  froí  thå  useò 
selection manually.

     Iæ CMÄ haó nï argument¬ thå useò ió prompteä foò input¬ 
anä  thió inpuô ió inserteä intï thå commanä streaí  aô  thå 
poinô oæ thå CMÄ command®  Thió ió mucè morå useful¬ sucè aó 
wheî  SHSEÔ  ió useä tï definå á shelì  sequence¬  anä  thió 
sequencå  ió tï bå exiteä aô somå time®   Foò  example¬  thå 
second form:

     CMD;cmd2;...

is translated into:

     mycmd;cmd2;...

if the user typed in "mycmd" in response to the prompt.

     CMÄ setó thå erroò messagå wheneveò iô runs®   ERROÒ ió 
turned on if no line was input to CMD.

Options: None

Comments:

     CMÄ  waó  builô  foò uså specificallù  witè  thå  SHSEÔ 
command¬  althï iô maù finä otheò applications®  Thå probleí 
thaô CMÄ addresseó ió thå caså wherå thå maiî prograí iî thå 
shelì sequencå knowó nothinç abouô shells¬ anä iô ió desireä 
to leave the sequence sometime.  CMD provides this out.

     Foò  instance¬  iæ MU³ ió tï bå useä aó thå maiî shell¬ 
then:
          SHSET MU3;CMD

wilì ruî MU3¬  allo÷ thå useò tï dï whaô hå wants¬  anä theî 
reenter MU3.  If the user entered the command


     SHCTRL POP

thå shelì stacë woulä bå poppeä anä thå "MU3;CMD¢ looğ woulä 
be broken.

     Additionally¬  CMÄ setó thå ERROÒ messagå oæ ZCPR3¬  sï 
thaô  programó  oî dowî thå linå caî determinå iæ inpuô  waó 
madå wheî CMÄ waó run®   Iæ thå useò simplù strikeó á RETURÎ 
iî responså tï thå CMÄ prompt¬ aî erroò ió indicated®  Testó 
caî lateò bå made¬ likå IÆ ERROR¬ tï checë thió anä makå thå 
command flow change depending on the outcome.

Selected Error Messages:

     None - self-explanatory

Examples of Use:

     See above
:MU       Memory Utility RCP
Command: MU RCP 1.0A

Syntax:

     MU             <-- invoke MU at 100H
or   MU address     <-- invoke MU at indicated address

Function:

     MÕ ió identicaì tï MU³ iî function¬  witè thå exceptioî 
thaô   thå  È  commanä  (Hexadecimaì  Calculator©   ió   noô 
supported®   Thå  differencå  betweeî MÕ anä MU³ ió thaô  MÕ 
executeó aó aî RCĞ anä MU³ executeó aó á transient®   Aó  aî 
RCP¬  MÕ  allowó thå useò tï examinå thå TPÁ withouô concerî 
foò sidå effects¬  sï debugginç transientó ió simplifieä  bù 
thió command®   Iô ió thå onlù maiî commanä iî thå DEBUG.RCĞ 
provided in the ZCPR3 release.


Options: None

Comments:

     MÕ maù bå invokeä aó á Shelì bù thå SHSEÔ command®  Thå 
Ã  commanä caî bå useä froí withiî MÕ tï executå anù desireä 
commanä line¬  includinç thå "SHCTRÌ POP¢ commanä whicè popó 
MÕ  froí  thå Shelì Stack¬  terminatinç itó operatioî  aó  á 
Shell.

Selected Error Messages: None

Examples of Use:

     MU        <-- run MU
     MU 0F400  <-- run MU but position at 0F400H

:SHSET    Define Shell Sequence
Command: SHSET 1.0

Syntax:

     SHSET cmd1;cmd2;...

Function:

     SHSEÔ  defineó  thå  commandó whicè follo÷  iô  aó  thå 
commanä sequencå tï bå placeä oî thå toğ oæ thå shelì stack®  
Iô placeó thió sequencå there®   Consequently¬ oncå SHSEÔ ió 
executeä  oî á sequencå oæ commands¬  theså commandó wilì bå 
cycleä  thrõ  timå anä timå agaiî untiì thå shelì  stacë  ió 
cleared or popped.

Options:

     None


Comments:

     SHSEÔ  provideó aî easù mechanisí tï makå  anù  commanä 
sequencå  intï á shell®   Consequently¬  non-ZCPR³ programs¬ 
likå  MBASIC¬  DBASÅ II¬  WORÄ STAR¬  anä otheró caî  becomå 
shells under ZCPR3.

     Carå  shoulä bå takeî witè SHSEÔ iî allowinç thå  shelì 
tï  bå  exiteä  iæ iô ió sï desired®   Thå  utilitù  CMÄ  ió 
sometimes useful for this.

Selected Error Messages:

     None - self-explanatory


Examples of Use:

     SHSET MBASIC;CMD
          -- define the sequence MBASIC;CMD to be a shell

     SHSET WS
          -- define Word Star to be a shell


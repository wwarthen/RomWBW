;


           Redirectable I/O Under ZCPR3 and SYSIO

                       -- Concepts --
                  1 - ZCPR3 and SYSIO
                  2 - ZCPR3 and I/O Redirection

                       -- Commands --
                       C - CPSEL
                       D - DEVICE
                       E - DEV
                       L - LDR
                       R - RECORD

:1
                Redirectable I/O Under ZCPR3

     Thå concepô oæ redirectablå I/Ï involveó thå assignmenô 
oæ  physicaì  deviceó tï logicaì devices®   ZCPR³  anä  CP/Í 
supporô fouò logicaì devices:

     CON: - Console - An I/O Device for User/System Commo
     LST: - Printer - An Output-Only Device for Printouts
     RDR: - Reader  - An Input-Only Device
     PUN: - Punch   - An Output-Only Device

     Undeò CP/M¬  therå arå onlù fouò physicaì deviceó whicè 
maù bå assigneä tï eacè oæ thå fouò logicaì devices®   Undeò 
ZCPR3¬  therå  maù  bå aó manù physicaì deviceó  aó  desireä 
whicè maù bå assigneä tï eacè oæ thå fouò logicaì devices.

     Á  "physicaì  device¢  iî thå traditionaì  senså  ió  á 
conventionaì  I/Ï device¬  likå á CRÔ oò á Printer®   Iî thå 
senså oæ ZCPR3¬  iô ió á devicå driver¬ oò bodù oæ software¬ 
whicè  ió  communicateä witè viá thå  BIOS®   Thió  bodù  oæ 
software¬ iî turn¬ maù communicatå witè anù devicå OÒ SEÔ OÆ 
DEVICEÓ thaô iô wishes.

     SYSIÏ  ió  á  samplå seô oæ  Redirectablå  I/Ï  Driveró 
designeä  tï bå useä witè ZCPR³ oî mù system®   Undeò SYSIO¬ 
some of thå "physicaì devices¢ implemented are:

CON: Devices - TTY
               CRT
               CRT Input and CRT/Remote Computer Output
               CRT and Modem Input and CRT and Modem Output
                    in Parallel
               CRT Input and CRT/Modem Output

LST: Devices - TTY
               CRT
               Modem
               Remote Computer

RDR: and PUN: Devices - Clock


     Aó yoõ caî see¬  thå "physicaì devices¢ undeò ZCPR³ caî 
bå  combinationó  oæ  actuaì devices®   Thå  CRÔ  Inpuô  anä 
CRT/Remotå Computeò Outpuô device¬  foò instance¬ ió useä tï 
allo÷  á remotå computeò recorä screeî displayó whicè gï  tï 
thå CRT.

     Undeò ZCPR3¬ aó manù sets¬ oò packages¬ oæ Redirectablå 
I/Ï  Driveró  aó desireä caî bå created®   Eacè packagå  caî 
givå  thå  useò  differenô  typeó  oæ   capabilities®    Foò 
instance¬  onå  packagå caî bå likå thå abovå examplå  whilå 
anotheò packagå caî providå Disë Recordinç capability¬  sucè 
aó CRÔ Inpuô anä CRT/Disë Filå Output.


     Thå  ZCPR³  Systeí oæ Programó containó fouò  utilitieó 
designeä  tï  supporô thå Redirectablå  I/Ï  System®   Theså 
utilitieó anä theiò functionó are:

          LDR      -- Load a Redirectable I/O Package
          DEVICE   -- Display and Select Physical I/O Devices
          DEV      -- Shorthand form of DEVICE
          RECORD   -- Turn on and off the Recording Facility

     Thió  HELĞ Filå discusseó theså utilitieó anä ho÷  theù 
arå intendeä tï bå used.

     Implementatioî  detailó foò I/Ï Packageó arå lefô tï  á 
studù  oæ thå sourcå codå oæ thå samplå I/Ï Packagå anä  thå 
ZCPR3 book.

:L
          Loading Redirectable I/O Drivers -- LDR

     Onå  oæ  thå manù functionó oæ LDÒ ió tï  loaä  aî  I/Ï 
Packagå  intï thå propeò memorù buffer®   LDÒ performó  thió 
function when given a file specification of type IOP:

          LDR myio.iop

will load MYIO.IOP as an I/O Package.

     LDÒ  performó  á structurå checë beforå  approvinç  thå 
load.

:D

Command:  DEVICE3 1.0  (DEVICE)

Syntax:

     DEVICE              <-- Enter Interactive Command Mode

Function:

     DEVICÅ  ió  useä  tï allo÷ thå  useò  tï  interactivelù 
displaù   thå  nameó  oæ  thå  availablå  physicaì   deviceó 
(actually¬  devicå  drivers©  whicè maù bå assigneä  tï  thå 
logicaì  deviceó anä tï allo÷ thå useò tï assigî á  physicaì 
devicå tï á logicaì devicå bù name.


Options:
     None

Comments:

     DEVICÅ  onlù runó iî aî interactivå mode®   Iô respondó 
tï   single-characteò  commands¬   completinç  thå   commanä 
sequences in response and prompting the user.

     The following commands are recognized by DEVICE:

          D - Display Device Names

          C - Select Console Device (CON:)
          L - Select List Device (LST:)
          P - Select Punch Device (PUN:)
          R - Select Reader Device (RDR:)

          X - Exit


     Thå Displaù Devicå Nameó commanä (D© askó thå useò  foò 
the devices to display.  His responses are:

          A - All
          C - Consoles
          L - Lists
          P - Punches
          R - Readers

     Thå  Exiô commanä exitó tï ZCPR³ withouô promptinç  foò 
confirmation.

     Thå otheò fouò commandó (C¬ L¬ P¬ anä R© assigî deviceó 
IMMEDIATELY®   Thå  useò typeó thå namå oæ thå devicå tï  bå 
assigned®   Iæ hå strikeó á returî iî responså tï thå devicå 
name prompt, the command is aborted.


Selected Error Messages:

     Self-Explanatory

Examples of Use:

     DEVICE
          -- invoke utility

:E

Command:  DEV 1.0

Syntax:

     DEV command,command,...

Function:

     DEÖ  ió á utilitù whicè enableó thå useò tï  manipulatå 
thå  ZCPR³ redirectablå I/Ï devicå drivers®   Iô allowó  thå 
useò  tï displaù thå nameó oæ thå currenô deviceó anä selecô 
them.

     Unlikå itó counterpart¬  DEVICE¬  DEÖ acceptó alì inpuô 
from the command line and is not interactive.

Options:
     None

Comments:

     Anù DEÖ commanä maù takå thå followinç forms®  Onlù thå 
first letters are significant in the these commands:

          DISPLAY ALL    <-- Display names of all devices
          DISPLAY CON    <-- Display consoles
          DISPLAY LST    <-- Display printers
          DISPLAY PUN    <-- Display punches
          DISPLAY RDR    <-- Display readers

     D A is the same as DISPLAY ALL.

     Thå  fulì  devicå namå musô bå giveî iî  thå  followinç 
commands®    Onlù  thå  firsô  characteò  anä  thå  '=§  arå 
significant in the rest of the command.

     CON:=name      LST:=name      PUN:=name      RDR:=name

     C=name is the same as CON:=name.

Selected Error Messages:

     "DEÖ  NOÔ  Initializeä witè I/Ï Base¢ meanó  thaô  thió 
ZCPR3 System does not support Redirectable I/O.

     "Redirectioî  Noô  Supported¢  meanó  thaô  thå  loadeä 
drivers in the I/O Package do not support redirection.

Examples of Use:

     DEV C=CRT,L=TTY
          -- assign CRT to CON: and TTY to LST:


:R

Command:  RECORD 3.0

Syntax:

   RECORD ON or OFF              <-- Console Recording
or
   RECORD ON or OFF PRINTER      <-- Printer Recording

Function:

     RECORÄ  ió useä tï controì thå Disë Outpuô Facilitù  oæ 
thå Redirectablå I/Ï Drivers®  Copieó oæ Consolå anä Printeò 
outputó  caî  bå createä iî disë fileó bù thå  uså  oæ  thió 
facility¬  anä  iô  maù bå extendeä intï á numbeò  oæ  otheò 
applicationó aó well.


Options:

     ON  - Enable Recording
     OFF - Disable Recording

     P   - Reference Printer

Comments:

     Foò  RECORÄ  tï  perforí  itó  function¬   iô  musô  bå 
implementeä iî thå Redirectablå I/Ï Drivers®   Thió ió  lefô 
aó aî exerciså foò thå reader®  Thå Redirectablå I/Ï Driveró 
supplieä  witè ZCPR³ havå simplå RETurî instructionó aó  thå 
subroutineó executeä bù thå RECORÄ functions.


     Fouò  routineó  arå  accesseä iî thå  Redirectablå  I/Ï 
Driveò packagå tï controì thå RECORÄ function®  Theù are:

          COPEN  -- Enable Recording Console Output
          LOPEN  -- Enable Recording List Output
          CCLOSE -- Disable Recording Console Output
          LCLOSE -- Disable Recording List Output

     RECORÄ ió indirectlù tieä intï DEVICE®  Invokinç RECORÄ 
itselæ  doeó  noô  necessarilù starô thå  recordinç  procesó 
immediately®    Twï  functionó  musô  takå  placå  tï  begiî 
recordinç outpuô ontï disë files:

    1) RECORD has to turn the appropriate Driver ON
    2) DEVICE has to select the appropriate Driver


     Bù turninç RECORÄ OFÆ durinç á recordinç  session¬  thå 
outpuô  filå  ió closeä anä availablå foò  otheò  uses®   Iæ 
RECORÄ  ió lateò turneä ON¬  thå outpuô filå maù bå  deleteä 
(iæ thå samå filå ió selecteä tï recorä into)®   However¬ iæ 
á  ne÷  devicå ió selecteä whilå RECORÄ ió OÎ  (say¬  DEVICÅ 
CON:=CRÔ ió issued)¬ theî recordinç ió SUSPENDEÄ (NOÔ turneä 
off©  untiì thå recordinç devicå ió  selecteä  again®   Witè 
thió  capability¬  iæ iô lookó likå thå recordinç sessioî ió 
noô  goinç well¬  recordinç caî bå  suspended¬  thå  probleí 
fixed¬ anä theî recordinç caî bå resumed.

     Thió  combineä  systeí oæ DEVICÅ anä RECORÄ provideó  á 
flexiblå outpuô recordinç system®   Iî addition¬  thå outpuô 
recordinç neeä noô necessarilù gï tï á disë file®   Iô coulä 
bå seô uğ tï senä CONº  outpuô tï thå CRÔ and¬ say¬ á Remotå 
Computeò foò processing.


Selected Error Messages:

     "I/Ï Driveò Addresó NOÔ Defined¢ meanó thaô therå ió nï 
I/O Package in this ZCPR3 System.

     "Disë  Driveò  Modulå NOÔ Loaded¢ meanó  thaô  thå  I/Ï 
Package does not support the RECORD facility.

     "Nï  I/Ï  Driveò Modulå Loaded¢ meanó thaô LDÒ haó  noô 
been run to load an *.IOP file.

Examples of Use:

     RECORD ON
          - turn on recording for the console

     RECORD ON P
          - turn on recording for the printer

:2


           Redirectable I/O and the ZCPR3 System

     Thå   ZCPR³  Systeí  caî  functioî  witè   oò   withouô 
Redirectablå  I/Ï  aó  implementeä bù thå  Redirectablå  I/Ï 
Driveò  Packageó  anä  thå  LDR¬  DEV¬  DEVICE¬  anä  RECORÄ 
programs®   Obviously¬  thå  ZCPR³ Systeí ió madå mucè  morå 
flexiblå bù employinç theså facilities.

     DEVICÅ anä RECORÄ arå tieä directlù tï thå Redirectablå 
I/Ï  Packageó themselves®   Theù don'ô uså anù oæ thå  otheò 
featureó  oæ  thå ZCPR³ Systeí tï speaë  of¬  anä  theù  arå 
installeä bù Z3INS.


     Thå  programó controllinç thå Redirectablå I/Ï  Driveró 
arå tieä togetheò iî thió manner:

          LDR       loads the drivers
          DEVICE    controls the drivers
          DEV       controls the drivers
          RECORD    enables and disables the recording
                         facilities of the drivers

:C

Command:  CPSEL 1.0

Syntax:

     CPSEL cmd1,cmd2,...

Function:

     CPSEÌ  (CRT/Printeò  SELect© ió á ZCPR³  utilitù  whicè 
permitó thå useò tï dynamicallù selecô thå CRÔ (oæ CRÔ ° anä 
CRÔ  1© anä Printeò (oæ Printeró 0¬  1¬  2¬  anä 3© froí thå 
currenô  ZCPR³  Environmenô  Descriptor®   Thió  dynamicallù 
changeó thå characteristicó oæ thå printeò anä CRÔ whicè arå 
used by other ZCPR3 utilities, such as PRINT.

Options:
     None


Comments:

     The commands may be any of the following:

          Cc, c=0 or 1   -- Select CRT 0 or CRT 1

          Pp, p=0-3      -- Select Printer 0-3

          Dd, d=A (All), C (CRT), P (Printer)
               -- Display Selection Values

     Thå valueó affecteä bù theså selectionó includå  numbeò 
oæ  lineó  anä  columnó oî thå CRÔ anä numbeò oæ  lineó  anä 
columnó oî thå printer®   Thå abilitù oæ thå printeò tï forí 
feed is also included.


Selected Error Messages:
     None

Examples of Use:

     CPSEL DA
          - display all devices

     CPSEL C1,P3,DA
          - Select CRT 1 and Printer 3; display all devices
               when done


;

                Directory Display Utilities

     -- Summaries --               -- XDIR Details --
     0 - Overview                  B - Basic Use
     1 - XDIR                      F - File Selection
     2 - XD                        N - File Name Scan
     3 - DIR                       O - Output Control
     4 - RCP DIR
     5 - ZCPR3 DIR


                    -- Special Note --
                    S - Secure Systems

:0
                                                             Overview

     Therå  arå  fivå directorù displaù  utilitieó  provideä 
witè  thå  ZCPR³ System®   Eacè provideó thå useò  witè  thå 
basiã functioî oæ displayinç thå nameó oæ fileó iî á logicaì 
disë directorù (á disë anä useò area).

     Thå  first¬  anä simplest¬  utilitù ió builô  intï  thå 
ZCPR³ Commanä Processor®   Thió utility¬ invokeä bù thå namå 
oæ DIR¬ ió verù primitive¬ displayinç jusô thå filå nameó iî 
whatever order they reside on disk.

     Thå seconä utilitù ió availablå aó á utilitù withiî thå 
standarä Residenô Commanä Package®  Thió utility¬ alsï nameä 
DIR, displays the file names sorted in alphabetical order.

     Thå  thirä  utilitù ió DIR.COM¬  á smalì  2Ë  transienô 
whicè  displayó filå nameó (sorteä bù filå namå anä typå  oò 
bù typå anä name© anä filå sizes.

                                                             Overview
     Sincå  alì threå oæ theså utilitieó arå nameä  DIR¬  iô 
makeó  senså  tï enablå onlù onå oæ theí  peò  system®   Thå 
tradå  ofæ oæ utilitù foò disë spacå ió thå basiã choicå  tï 
be made.

     Thå lasô twï utilitieó arå XÄ anä XDIR®   XÄ ió á fast¬ 
4Ë  utilitù  whicè  provideó  á  usefuì  seô  oæ   functionó 
includinç  horizontaì anä verticaì displaù  formats¬  outpuô 
sorteä  bù filå namå anä typå oò typå anä name¬  R/Ï anä SYÓ 
flags, and printer output.

     XDIÒ ió 8Ë iî sizå anä provideó alì oæ thå featureó  oæ 
XÄ  pluó thå abilitù tï writå itó displaù tï disë anä á filå 
scanner.

     Thå  ZCPR³  Systeí useò maù finä uså foò alì  oæ  theså 
utilitieó  oî  hió  system¬   dependinç  oî  hió  needó  anä 
preference®   Thå  smalleò utilitieó maù dï thå joâ iî  mosô 
cases, and they load faster than the full-featured XDIR.
                                                             Overview

     Alì  oæ  theså utilitieó arå designeä tï bå  ruî  undeò 
ZCPR³ exclusively®  Theù wilì noô functioî correctlù undeò á 
conventional CP/M 2.2 system.

     Theså  utilitieó automaticallù adapô tï anù Org-° ZCPR³ 
System¬  regardlesó oæ thå sizå oæ itó disks®  Theù reaä thå 
disë  parameteò blocë informatioî froí thå operatinç  systeí 
tï  determinå  whaô  thå attributeó oæ  thå  disë  theù  arå 
workinç  witè  are¬  anä  theù theî  presenô  theiò  displaù 
information.


                     Comparison Matrix

Attribute           Z3 DIR    RCP DIR   DIR  XD   XDIR
---------           ------    -------   ---  ---  ----
Size                N/A       N/A       2K   4K   8K
Sort File Names     No        Yes       Yes  Yes  Yes
Select Sort Order   N/A       No        Yes  Yes  Yes
Select SYS Files    Yes       Yes       Yes  Yes  Yes
Select All Files    Yes       Yes       Yes  Yes  Yes
Negate File Select  No        No        No   No   Yes
Displ File Attr     No        No        No   Yes  Yes
Horiz/Vert Format   No        No        No   Yes  Yes
Printer Output      ^P        ^P        No   Yes  Yes
  Form Feed         No        No        No   Yes  Yes
Select All Users    No        No        No   No   Yes
Disk Output         No        No        No   No   Yes
File Scanner        No        No        No   No   Yes


:1
Command:  XDIR 2.0

Syntax:
     XDIR dir:afn ooo...
or
     XDIR /ooo...

Function:
     XDIÒ  displayó á disë directorù tï thå useò anä actó aó 
a file name scanner.

Options:
     Aa - Indicate attributes of files to be selected
          a=A for All Files (System and Non-System)
          a=N for Non-System Files [default]
          a=S for System Files
     Ä  - Senä Outpuô tï Disë Filå XDIR.DIR
     Ff - Enable a File Scanner Function
          f=L to Log File Names to FNAMES.DIR
          f=P to Print File Names Stored in FNAMES.DIR
          f=S to Scan Disk and Compare to FNAMES.DIR
     I  - Inspect Logged Files (use with FL option only)
     N  - Negate Selection of Files
     Oo - Select Output Features
          o=Á tï Disablå Displaù oæ Filå Attributeó (R¬ S)
          o=F to Form Feed Printer when Display Done
          o=G to Group Files by Name and Type
          o=H to Display Files in Horizontal Format
     P  - Send Display to Printer
     PF - Send Display to Printer with Trailing Form Feed
     U  - Select All User Areas

Comments:

     XDIR is on the order of 8K in size.

     Thå  principaì  reasonó  tï  uså XDIÒ  oveò  thå  otheò 
directorù displaù utilitieó are:
          1. XDIR is able to send its output to disk
          2. XDIR provides the File Scanner Function
          3. XDIR can display all user areas of a disk

     Iæ thå defaulô attributeó oæ XDIÒ arå noô tï thå user'ó 
likinç (eg¬  á listinç bù filå namå anä typå ió  preferred)¬ 
there are three alternatives:

          1. XDIR can be reassembled
          2®  thå  attributeó  caî bå patcheä viá DDÔ  (theù 
start at the 6th byte from the front of the program)
          3®  aî  ALIAÓ  caî bå createä  whicè  selectó  thå 
desired attributes for the user

Selected Error Messages:

     "TPÁ  Error¢ indicateó memorù overflow»  therå waó  noô 
enougè  memorù  availablå  iî  thå  TPÁ  tï  loaä  thå  disë 
directory

Examples of Use:

     XDIR
          -- displayó  á listinç oæ thå non-systeí fileó  iî 
thå currenô directorù iî thå followinç fashion:

               1. Sort is by File Type and Name
               2. Listing is in a Vertical Format
               3. Attributes of Each File (R/O, SYS) shown
               4. File Sizes in K
               5. Total of Sizes of All Files


     XDIR /AA
          -- likå thå firsô example¬ buô botè non-systeí anä 
system files are displayed

     XDIR /OH
          -- likå thå firsô example¬  buô Listinç formaô  ió 
Horizontal

     XDIR /OG
          -- likå  thå  firsô example¬  buô Sorô ió bù  Filå 
Namå anä Type

     XDIR *.COM /NFL
          -- thå  nameó oæ alì non-systeí fileó whicè dï noô 
match *.COM are stored on disk in a file named FNAMES.DIR


:B          



                        XDIR Summary



     XDIR runs in two basic modes:
          . as a directory display utility
          . as a file scanner utility

                                                             XDIR Summary
     Aó   á  directorù  displaù   utility¬   XDIÒ   displayó 
informatioî abouô thå fileó oî á particulaò disë iî alì useò 
areaó oò á particulaò useò area®   Iô provideó thå followinç 
information:

          . Name of File
          . Size of File (in K bytes)
          . Attributes of File (Read/Only or System)
          . Sum of Sizes of All Files Displayed
          . Total Number of Files on Disk
          . Amount of Space Remaining on Disk
          . What Disk and What User Area is being displayed

     Aó á filå scanneò utility¬ iô doeó thå following:
          . Logs a group of selected files to disk
          . Prints the contents of such a log file
          ® Scanó á loç filå anä compareó iô witè thå fileó
               selected by the user, telling him what files
               are missing and what files are additional
                                                             XDIR Summary
     XDIÒ  ió  quitå  human-oriented¬   witè  manù  built-iî 
featureó  whicè providå á human-interfacå typå oæ servicå tï 
thå user®  Somå oæ theså include:

          . Named Directories may be specified
          . The file listing is alphabetized by file name and
               type or file type and name, depending on user
               preference
          . The file listing is organized vertically or
               horizontally, depending on user preference
          . Output may also be sent to disk or printer

:O

                    XDIR Output Control

     The Output Control options of XDIR are:

          D  - Send Output to Disk
          Oo - Output Control
               OA - Toggle Display of File Attributes
               OF - Toggle Send of Form Feed with Print
               OG - Toggle File Grouping (name/type or type/name)
               OÈ - Togglå Formaô (Horizontaì oò Vertical)
          P  - Send Output to Printer
          PF - Same as POF, which sends output to printer and
               form feeds when done

     Iæ  Ğ  ió specified¬  thå outpuô goeó tï  youò  printeò 
(LSTº  device© aó welì aó youò console®   Iæ Ä ió specified¬ 
thå  outpuô  goeó  tï  youò currenô directorù  aó  thå  filå 
XDIR.DIR®  Iæ XDIR.DIÒ alreadù exists¬ iô ió replaced.

                                                             XDIR Output

     OÁ  allowó thå useò tï selecô thå displaù tï  omiô  thå 
filå attributeó field®   Thió field¬  whicè occuró afteò thå 
filå sizå ió printeä foò eacè file¬  optionallù containó thå 
letteró  Ò  anä S¬  indicatinç thaô thå preceedinç filå  waó 
Read/Onlù (iæ thå letteò Ò appears© anä thaô thå  preceedinç 
filå  waó á Systeí filå (iæ thå letteò Ó appears)®   Iæ Ò ió 
noô present¬  thå filå ió NOÔ Read/Onlù (iô ió  Read/Write)¬ 
anä iæ Ó ió noô present¬ thå filå ió Non-System.

     OÆ  allowó  thå useò tï selecô aî automatiã  forí  feeä 
wheî  thå  directorù  displaù ió senô tï  thå  printer®   Iæ 
printeò outpuô ió selecteä (Ğ option© ANÄ thå forí feeä flaç 
ió ON¬  theî thå lasô linå oæ thå printouô wilì bå  followeä 
bù  á  forí feeä character®   Manù printeró responä tï  thió 
characteò bù advancinç tï thå toğ oæ thå nexô  page®   Noteº  
thå  speciaì  forí PÆ ió provideä tï acô thå samå aó Ğ  (foò 
turninç  oî printeò output© anä OÆ (tï togglå thå forí  feeä 
function).
                                                             XDIR Output

     OÇ  allowó  thå  useò  tï  selecô  hió  displaù  tï  bå 
alphabetizeä  bù filå namå anä type®   Iæ bù filå  namå  anä 
type¬  theî AA.TXÔ comeó beforå BB.COM®  Iæ bù filå typå anä 
name¬  theî BB.COÍ comeó beforå AA.TXT®   Alphabetizatioî bù 
filå  namå  anä typå groupó fileó oæ thå samå namå  togetheò 
(FÎ fields¬  likå alì XDIR.ª files)¬  whilå bù filå typå anä 
namå groupó fileó oæ thå samå typå togetheò (FÔ fields¬ likå 
alì *.TXÔ files).

     OÈ allowó thå useò tï selecô hió alphabetizeä fileó  tï 
bå  listeä acrosó thå screeî (horizontally)®   Thå screeî ió 
divideä   intï  threå  columns¬   anä  á  verticaì   listinç 
alphabetizeó  dowî thå firsô column¬  theî thå  second¬  anä 
theî  thå  third¬  whilå á horizontaì  listinç  alphabetizeó 
first¬  second¬  anä thirä columnó oî thå firsô line¬ anä sï 
oî witè eacè line.

                                                             XDIR Output

     XDIÒ  provideó sucè á widå varietù oæ  outpuô  displayó 
thaô  iô  ió recommendeä thaô thå useò experimenô  witè  thå 
variouó  XDIÒ  optionó  tï seå whicè formaô oæ  displayó  hå 
prefers®   Thå defaulô settingó foò thå variouó optionó  caî 
bå changeä bù intelligenô uså oæ DDÔ oò bù reassemblù oæ thå 
XDIR.MAÃ  sourcå  iæ  thå useò preferó á  differenô  seô  oæ 
defaults.

:F

                    XDIR File Selection

     Thå followinç optionó (anä thå DIRº field© controì filå 
selection:

          Aa - Set the attributes of the files to be displayed
               a=S for System Files, a=N for Non-System Files
               a=A for All Files (Non-System and System)
          N  - Negate Selection; select those files which do NOT
                    match the ambiguous file name
          U  - Select All User Areas

     Thå  Î optioî negateó aî ambiguouó filå namå reference¬ 
buô iô stayó iî thå SAMÅ seô oæ systeí oò non-systeí  files®  
Foò instance¬ XDIÒ *.COÍ /NAÓ selectó alì SYSTEÍ fileó whicè 
dï NOÔ matcè *.COM.

                                                             XDIR File Select

     Thå  Á  optioî setó thå attributeó oæ thå fileó  tï  bå 
displayed®   Iæ  AÁ ió presented¬  theî botè Non-Systeí  anä 
Systeí  fileó wilì bå displayed®   Iæ AS¬  theî jusô  Systeí 
files¬ anä iæ AN¬ theî jusô Non-System.

     Thå  Î optioî selectó alì fileó whicè dï noô matcè  thå 
ambiguouó  filå name®   Thå scopå oæ thå Î optioî ió  withiî 
thå attributeó selected¬  sï iæ thå attributeó arå AS¬  onlù 
system files are shown.

     Thå  Õ  optioî  selectó  alì useò  areaó  oî  thå  disë 
selected®   Filå  nameó arå displayeä witè thå numbeò oæ thå 
user area they reside in front of their names.

:N

                   XDIR File Name Scanner

     Thå  optionó  oæ  XDIÒ whicè deaì witè  thå  Filå  Namå 
Buffeò Facilitù are:

          Ff - Engage File Name Buffer Facility
               f=L to Log File Names to Disk
               f=P to Print Names Logged to Disk
               f=S to Scan Disk for File Names and Compare to
                    Log
          I  - Inspect files selected by FL option

     Thå filå selectioî optionó comå intï plaù aó welì  witè 
thå  FÌ optioî tï selecô thå fileó tï bå placeä intï thå loç 
file¬ FNAMES.DIR.

                                                             XDIR File Scan

     Thå FÌ optioî writeó thå useò numberó anä filå nameó oæ 
thå  selecteä fileó tï disë intï thå filå nameä  FNAMES.DIR®  
Iæ  FNAMES.DIÒ alreadù exists¬  theî iô ió  rewritten®   Thå 
FNAMES.DIÒ fileó ió useä bù thå FĞ anä FÓ options.

     Thå É optioî (foò inspect© allowó thå useò tï  manuallù 
approvå eacè filå beforå itó namå ió placeä intï FNAMES.DIR.

     Thå  FĞ optioî printó ouô thå useò numberó anä nameó oæ 
alì thå fileó storeä iî FNAMES.DIR®  Iæ FNAMES.DIÒ ió noô iî 
thå currenô directory¬  FĞ wilì searcè alonç thå ZCPR³  patè 
untiì iô findó iô oò reacheó thå enä oæ thå path.

                                                             XDIR File Scan

     Thå  FÓ optioî scanó FNAMES.DIÒ anä thå fileó  selecteä 
bù thå useò (oò implieä iæ nï specifiã filå selectioî optioî 
ió given© anä compareó them®  Iæ á filå existó iî FNAMES.DIÒ 
buô  noô  iî thå selecteä files¬  itó namå ió printeä  aó  á 
missinç  file®   Iæ  á  filå existó oî disë buô noô  iî  thå 
FNAMES.DIÒ file¬  theî itó namå ió printeä aó aî  additionaì 
file.

     Notå  thaô  thå  useò shoulä keeğ iî minä  whaô  hå  ió 
scanninç  foò  wheî hå useó thå Filå Namå  Buffeò  Facility®  
Foò instance¬ iæ hå selectó botè Non-systeí anä Systeí fileó 
witè  thå FÌ optioî anä theî defaultó tï Non-Systeí witè thå 
FÓ  option¬  theî severaì fileó wilì comå uğ  missinç  whilå 
thió ió noô necessarilù true.

:S

                       Secure Systems

     Oî  Securå Systems¬  sucè aó Remotå CP/Í  Systems¬  thå 
variouó  directorù displaù utilitieó maù bå seô tï recognizå 
onlù thå DIÒ forí oæ directorù reference®   Thió ió donå  aô 
installation time.

     Associateä witè eacè directorù namå ió á password®   Iæ 
thió  passworä  ió blank¬  freå accesó tï thå  directorù  ió 
granted®   Iæ iô ió non-blank¬ however¬ thå useò ió prompteä 
foò thå passworä bù ZCPR3®   Iæ hå doeó noô givå thå correcô 
password¬  ZCPR³  referenceó hió currenô directory¬  anä anù 
directorù  displaù utilitù wilì onlù sho÷ thå fileó  iî  hió 
current directory.

:2

                        XD Overview

     Witè  usage¬  iô  haó beeî noteä thaô mosô oæ thå  morå 
exotiã featureó oæ XDIÒ arå noô useä mosô oæ thå  time®   Iî 
particular¬ theså featureó includå thå Filå Scanneò anä Disë 
Outpuô  facility®   Becauså theså featureó cosô iî termó  oæ 
thå  sizå  oæ  XDIR.COÍ anä  itó  executioî  speed¬  anotheò 
versioî oæ XDIR.COM¬ calleä XD.COM¬ haó beeî created.

     XÄ  ió completelù compatablå witè XDIÒ iî termó oæ  thå 
optionó   iô  acceptó  anä  ho÷  iô  operates®    Thå   onlù 
differenceó  betweeî  thå twï ió thaô thå Filå  Scanneò  anä 
Disë  Outpuô facilitieó havå beeî removeä froí  XD®   Hence¬ 
thå  D¬  F¬  anä É optionó arå noô available®   Everù  otheò 
optioî oæ XDIÒ ió stilì intact¬ however¬ anä performó iî thå 
samå way®  Aó á result¬ XÄ ió smalleò thaî XDIR.


Command:  XD 1.2

Syntax:
     XD dir:afn ooo...
or
     XD /ooo...

Function:
     XÄ  displayó á formatted¬  alphabetizeä listinç oæ  thå 
contents of a disk directory.


Options:
     Aa - Indicate attributes of files to be selected
          a=A for All Files (System and Non-System)
          a=N for Non-System Files [default]
          a=S for System Files
     Oo - Select Output Features
          o=Á tï Disablå Displaù oæ Filå Attributeó (R¬ S)
          o=F to Form Feed Printer when Display Done
          o=G to Group Files by Name and Type
          o=H to Display Files in Horizontal Format
     P  - Send Display to Printer
     PF - Send Display to Printer with Trailing Form Feed


Comments:

     XÄ ió smalleò thaî XDIÒ (4Ë vó 8K)¬ and¬ aó such¬ haó á 
largeò memorù buffeò iî whicè tï loaä files®  Iô ió possiblå 
foò  verù  largå harä disë systemó thaô XDIÒ  maù  noô  havå 
enough buffer space to perform its function, but XD may.

     Thå  defaultó oæ XÄ caî bå changeä iî thå samå  fashioî 
aó  thoså foò XDIR®   Seå thå "Comments¢ sectioî oî thå XDIÒ 
command for details.

Selected Error Messages:

     "TPÁ  Error¢  meanó thaô therå waó noô enougè  rooí  iî 
memory to load the disk directory.


Examples of Use:

     XD
          -- displaù  thå  non-systeí fileó iî  thå  currenô 
directory in the following fashion:
               1. sorted by file type and name
               2. vertical format
               3. R/O and SYS attributes included

     XD *.COM AAOA
          -- displaù  botè non-systeí anä systeí fileó whicè 
match *.COM in the following fashion:
               1. sorted by file type and name
               2. vertical format
               3. no attributes included in display

     XD ROOT:*.COM AAOA
          -- like above, but files in directory named ROOT

:3

Command:  DIR 1.0

Syntax:
     DIR dir:afn o...

Function:
     DIÒ  displayó á formatted¬  alphabetizeä listinç oæ thå 
files in a disk directory.

Options:

     A - Display both non-system and system files
     S - Display only system files
     T - Display files sorted by file type and name
          (sort by name and type is default)


Comments:

     DIR is not compatible to XDIR and XD in syntax!

     DIÒ  ió onlù 2Ë iî size®   DIÒ ió designeä tï bå  smalì 
anä fast¬  providinç morå utilitù thaî thå ZCPR3-residenô oò 
RCP-resident counterparts.

     Iæ  thå useò wisheó tï uså aî option¬  thå AFÎ musô  bå 
filleä witè *.ª - otherwise¬  thå optioî wilì bå interpreteä 
as a file specification.

     Á  slasè  aó  á  delimiteò  (DIÒ  /A¬   foò   instance© 
automatically displays the built-in documentation.


Selected Error Messages:

     "Ovfl¢  meanó thaô therå waó noô enougè buffeò spacå iî 
the TPA to contain the disk directory.

Examples of Use:

     DIR
          -- displayó  alì non-systeí fileó iî  thå  currenô 
directory in the following fashion:

               1. Horizontal display
               2. Sorted by file name and type

     DIR *.* A
          -- likå  above¬  buô  botè non-systeí  anä  systeí 
files are selected

:4

Command:  DIR (provided in SYS.RCP)

Syntax:
     DIR dir:afn o...

Function:
     Display a sorted disk directory to the user.

Options:
     A - Select both non-system and system files
     S - Select only system files

Comments:

     Thió commanä ió betteò thaî thå DIÒ iî ZCPR³ iî thaô iô 
sorts the file listing.

     Horizontal display format is used.


Selected Error Messages:

     None

Examples of Use:

     DIR
          -- displayó  alì  non-systeí fileó iî thå  currenô 
directory in a sorted fashion (by file name and type)

     DIR *.* A
          -- displayó  botè non-systeí anä systeí  fileó  iî 
current directory

     DIR ROOT:*.* A
          -- displayó  botè  non-systeí anä systeí fileó  iî 
ROOT directory

:5

Command:  DIR (provided within ZCPR3 Command Processor)

Syntax:
     DIR dir:afn o...

Function:
     Display a disk directory to the user.

Options:
     A - Select non-system and system files
     S - Select system files only

Comments:
     None

Selected Error Messages:
     None


Examples of Use:

     DIR
          -- displays non-system files in current directory

     DIR *.* A
          -- displayó  botè non-systeí anä systeí  fileó  iî 
current directory



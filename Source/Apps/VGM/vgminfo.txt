VGMINFO - VGM File Info Scanner for CP/M
===============================

VGMINFO scans .VGM files and reports:
- VGM version
- Chips actually used (by scanning the VGM command stream)
- Technical header fields (file size, data start offset, GD3 tag offset)
- GD3 tag fields (Title/Game/System/Author/Date/Creator) when present

Usage:
------

  VGMINFO [options] [filename]

Options:
  -h  Help (this text)
  -v  Verbose (long output)
  -d  Debug (verbose + debug output)

filename:
  Base name only; .VGM assumed
  Example: VGMINFO -v GONESHRT

Output:
-------

Default mode (no options):
- Prints a v1.1-style table: one line per file with detected chips.

Verbose mode (-v):
- Prints a short block per file:
    Filename(.VGM): <name>
     Version: <ver>
     Chips Used: <chips>
     Size: <hex> (<decimal bytes>) Data:<hex> GD3:<hex>
     (followed by any GD3 tag lines found)

Debug mode (-d):
- Same as -v, plus:
  - "DBG:" progress lines
  - Clock lines derived from the VGM header:
      Clk1: SN=... YM2612=... YM2151=...
      Clk2: OPL2=... OPL3=... AY=...
  - Optional mismatch diagnostics if directory enumeration fails

Supported Chips:
----------------

The program can (at present) detect the following audio chips:

- SN76489 (PSG)
- YM2612 (OPN2)
- YM2151 (OPM)
- YM3812 (OPL2)
- YMF262 (OPL3)
- AY-3-8910 (PSG)

Notes:
------

- Chip detection is based on scanning the VGM command stream (up to 255 commands
  or until end-of-data). This avoids false positives from header fields.

- Files without a valid VGM signature are skipped.

KNOWN BUGS / LIMITATIONS:
-------------------------

IMPORTANT: VERBOSE TEXT OUTPUT IS CURRENTLY TRUNCATED

- Some textual information contained within a VGM file (GD3 tags such as Title,
  Game, System, Author, Date, Creator) may be truncated in -v/-d output.

Why:
- VGMINFO uses fixed-size in-memory buffers and conservative bounds checks to
  keep the program stable on CP/M systems.
- As a result, long GD3 strings and/or very large GD3 blocks may be cut short
  rather than risking reading past buffers.

This will be improved in a future release.

TODO:
-----

- Display total number of files processed at the end of the run.

Building:
---------

To rebuild from source:

  build_vgminfo.cmd

Or manually with TASM:

  tasm -t80 -b -g3 -fFF vgminfo.asm vgminfo.com vgminfo.lst

Author:
-------

VGMINFO v1.2 b0020 - 21-Feb-2026
(C)2026 Joao Miguel Duraes, on a rainy and cold UK February evening
MIT License

Created for RomWBW/CP/M systems. 
AI LLM assistance goodness was used in the making of this tool.

;


                      The ZCPR3 MENU Shell

                      -- ZCPR3 Utilities --
                         1 - MENU
                         2 - MENUCK

         -- Using MENU --            -- Programming MENU --
     U - Using MENU                P - Programming *.MNU Files
     S - Summary of User Cmds      C - *.MNU Internal Commands
     E - MENU Error Messages       M - Programming Cmd Summary
                                   Z - MENU and ZCPR3

:1

Command:  MENU 3.2

Syntax:
     MENU           <-- run MENU.MNU
or
     MENU ufn       <-- run menu contained in file

Function:

     MENÕ  ió thå ZCPR³ menõ front-enä processor®   Iô ió  á 
ZCPR³  Shelì whicè readó á *.MNÕ filå anä processeó commandó 
froí it.

Options:
     None

Comments:
     MENÕ  ió á truå ZCPR³ Shell®   Iô ió describeä iî  thió 
HELP file.
Selected Error Messages:

     "Nï  Commanä Line¢ meanó thaô thå ZCPR³ Systeí doeó noô 
supporô  aî externaì Commanä Linå Buffer®   MENÕ  musô  havå 
thió tï run.

     "Nï  Shelì Stack¢ meanó thaô thå ZCPR³ Systeí doeó  noô 
support a Shell Stack.  MENU must have this to run.

     "Shelì  Stacë Full¢ meanó thaô thå Shelì Stacë ió  fulì 
and MENU cannot push itself onto the stack.

     "Shelì  Stacë  Entrù Size¢ meanó thaô thå  Shelì  Stacë 
elements are too short for MENU to store its parameters.

     "TPÁ  Full¢ meanó thaô therå ió noô enougè rooí iî  thå 
TPA to load the *.MNU file.

Examples of Use:
     See this HELP file

     MENÕ  ió thå ZCPR³ Menu-Orienteä Commanä  Preprocessor®  
Iô  actó aó á front-enä tï ZCPR3¬  providinç á menu-orienteä 
useò interfacå tï ZCPR3®  Itó functioî caî bå representeä bù 
thå followinç diagram:
                    ------    ------    ------    ------
                    |M   |    |Z   |    |B   |    |P   |
     User           | E  |    | C  |    | D  |    | g  |
     Menu      ---->|  N |--->|  P |--->|  O |--->|  m |
     Command        |   U|    |   R|    |   S|    |   s|
                    |    |    |   2|    |    |    |    |
                    ------    ------    ------    ------

     Thå  "Useò Menõ Command¢ ió á singlå characteò thaô thå 
useò  strikeó  whicè instructó MENÕ tï perforí  á  function®  
Oncå  MENÕ  beginó processinç thió  function¬  iô  buildó  á 
commanä  linå  foò  ZCPR3¬  optionallù askinç thå  useò  foò 
furtheò  inpuô (sucè aó á filå name)¬  anä theî  passeó  thå 
commanä  linå tï ZCPR³ viá thå Commanä Linå  Buffer®   ZCPR³ 
theî runó thå commanä linå returnó tï MENU.

     MENÕ  buildó  commanä lineó baseä oî simplå inpuô  froí 
thå user®   Thå useò neeä neveò kno÷ whaô thå actuaì commanä 
linå is®  Thå commanä linå itselæ ió alwayó oæ thå form:

              <command> <optional user input>

     Aó aî example¬ á commanä builô bù MENÕ tï ruî XDIÒ witè 
useò  inpuô foò á filå namå specification¬  coulä looë  likå 
thå following:

                     XDIR <user input>


     Wheî  MENÕ ió executed¬  iô lookó foò thå filå MENU.MNÕ 
iî thå currenô directory®   Iæ iô findó one¬ iô loadó iô anä 
beginó  processing®   Iæ  iô doeó noô finä  one¬  iô  simplù 
exits®   Á  filå namå maù bå specifieä iî thå  MENÕ  commanä 
line to select a file other than MENU.MNU.

     Thå  MENU.MNÕ  filå caî contaiî uğ tï 25µ menuó  tï  bå 
processeä  bù MENU®   Thå MENÕ wilì begiî processinç aô  thå 
firsô menõ iî MENU.MNU.


     MENÕ itselæ ió á COÍ file¬ likå anù otheò prograí undeò 
ZCPR3®   Unlikå mosô otheò programs¬  however¬  iô generateó 
commanä lineó tï bå executeä bù ZCPR³ anä storeó itó  returî 
commanä iî thå Shelì Stack®  Iî thió waù á looğ ió seô up:

                    -->--+->- MENU ->- ZCPR3 ->-+
                         ^                      v
                         |                      |
                         +-<- Command Line -<---+

     Onlù  MENÕ  itselæ caî terminatå thió  loop®   Iæ  thå  MENÕ 
programmeò  wishes¬  hå caî seô uğ thå MENU.MNU filå sï thaô thió 
looğ  wilì neveò bå exited¬  oò hå caî seô uğ thå filå  tï  allo÷ 
anyonå  tï exiô aô anù timå oò jusô á speciaì persoî whï knowó  á 
passworä  tï  exiô  wheî  hå  wisheó  to®   Therå  ió  á  loô  oæ 
flexibilitù  designeä intï thå system¬  anä iô wilì bå  discusseä 
later in the section on programming MENU.MNU files.

     Á  MENU.MNÕ  filå  caî bå seô uğ tï executå  anù  ZCPR³ 
commanä oò sequencå oæ commands®  Thå MENU.MNÕ filå caî alsï 
bå seô uğ tï noô allo÷ thå useò tï leavå MENU¬  tï allo÷ hií 
tï leavå MENÕ aô will¬ oò tï allo÷ hií tï leavå MENÕ onlù iæ 
hå knowó á password.

     Thió  HELĞ filå ió divideä intï twï basiã  parts®   Thå 
infï sectionó oî "Usinç MENU¢ anä "Summarù oæ MENÕ Commands¢ 
arå designeä tï bå reaä bù á persoî wantinç tï uså MENÕ  buô 
noô  wantinç  tï learî ho÷ MENÕ workó oò ho÷ tï prograí  it®  
Theså  sectionó  describå  ho÷  tï movå  froí  onå  menõ  tï 
another¬  ho÷ tï issuå MENÕ commands¬  anä ho÷ tï leavå MENÕ 
iæ thå optioî ió presenteä tï him.

     Thå  otheò  sectionó  oæ thió HELĞ  filå  describå  thå 
programminç  aspectó oæ MENÕ anä arå intendeä tï bå useä  aó 
aî  onlinå  referencå foò thå  MENÕ  programmer®   Thå  MENÕ 
commanä  programminç summarù ió especiallù usefuì iî thaô iô 
provideó á summarù oæ thå commandó whicè thå MENÕ programmeò 
maù issuå tï MENÕ withiî á *.MNU file.
:U

     Wheî  MENÕ ió firsô invoked¬  onå oæ threå thingó  wilì 
happen:

     1©  Á  MENÕ  wilì appeaò anä bå pageä uğ  tï  filì  thå 
          screen» á commanä prompô wilì appeaò aô thå bottoí 
          oæ thå menu

     2©  Á MENÕ wilì appeaò anä noô bå pageä uğ tï filì  thå 
          screen» á commanä prompô wilì appeaò aô thå bottoí 
          oæ thå menu

     3©  Á commanä prompô wilì appeaò witè nï menõ (thió  ió 
          called the Expert Mode)

     Iæ  aô  anù timå á Menõ Displaù ió garbleä oò thå  useò 
desireó  tï seå thå currenô Menõ (aó sometimeó happenó  wheî 
yoõ arå iî Experô Mode)¬  jusô strikå thå RETURÎ  key®   Thå 
RETURÎ keù refresheó thå menõ aô alì times.


     Thå  prompô  whicè appearó aô thå bottoí oæ  youò  Menõ 
displaù haó thå followinç generaì form:

Command (<CR>=Menu,^C=ZCPR3,*=1st Menu,<=Prev Menu,>=Next Menu) -

     Therå caî bå uğ tï 25µ menuó iî onå MENU.MNÕ file®  Thå 
MENÕ commanä prompô varieó tï reflecô this®   Foò  instance¬ 
iæ  onlù onå Menõ waó presenô anä thå optioî tï aborô ouô oæ 
MENÕ  tï  ZCPR³ waó noô available¬  theî  thå  Menõ  Commanä 
prompô woulä takå itó simplesô form¬ lookinç like:

Command (<CR>=Menu) -

     Strikå thå RETURÎ keù aô thió timå tï refresè thå  Menõ 
Displaù oò strikå thå characteò oæ á Menõ Option®  Theså arå 
thå onlù choices¬  anä strikinç á characteò whicè ió noô thå 
RETURÎ keù oò á menõ optioî resultó iî thå belì sounding.


     Iæ  thå thå optioî tï exiô tï ZCPR³ waó  availablå  anä 
therå  ió  onlù  onå Menõ iî thå  MENU.MNÕ  file¬  theî  thå 
commanä linå wilì looë likå this:

Command (<CR>=Menu,^C=ZCPR3) -

     Thå  optioî oæ abortinç tï ZCPR³ bù strikinç  Control-Ã 
(holä  dowî  oî thå Control¬  oò CTRL¬  keù anä  strikå  thå 
letteò  C© ió no÷ available®   Thió wilì returî tï ZCPR³ anä 
exiô MENU.

     Onå brieæ notå oî optioî letteró beforå goinç  on®   Iæ 
onå  oæ  youò optionó ió á letteò iî thå rangå froí Á tï  Z¬ 
theî caså ió noô significant¬  anä yoõ caî invokå thå optioî 
A¬ say¬ bù strikinç aî upper- oò lower-caså A.


     Iæ therå ió morå thaî onå menõ iî thå *.MNÕ  file¬  thå 
commanä linå optionó becomå slightlù morå complex¬  buô theù 
arå stilì quitå easù tï follow.

     Iî  thå followinç examples¬  assumå thaô thå optioî  tï 
exiô  tï  ZCPR³ ió off¬  sï thå "^C=ZCPR3¢ optioî  wilì  NOÔ 
appear.

     Froí thå firsô menõ iî thå file¬  thå commanä linå wilì 
looë likå thå following:

Command (<CR>=Menu,>=Next Menu) -

     Tï advancå tï thå nexô menu¬  strikå thå ">¢ oò thå ".¢ 
character®   Oî mosô keyboards¬ ">¢ ió thå shifô oæ thå "."¬ 
sï  MENÕ permitó easù movemenô withouô havinç tï worrù abouô 
shiftinç thå keyboarä alì thå time.


     Iæ aô thå lasô menõ iî thå file¬  thå commanä linå wilì 
looë likå thå following:

Command (<CR>=Menu,*=1st Menu,<=Prev Menu) -

     Thió  allowó  thå useò tï strikå thå "*¢  characteò  tï 
jumğ  bacë tï thå firsô menõ iî hió *.MNÕ file®   Iæ "<¢  oò 
",¢ ió stucë ("<¢ ió usuallù thå shifô oæ thå ",")¬ theî thå 
useò wilì bacë uğ onå menõ tï thå previouó menõ iî thå file.

     Iæ thå useò ió somewherå iî thå middlå oæ thå  MENU.MNÕ 
file¬ hió commanä linå wilì looë likå this:

Command (<CR>=Menu,*=1st Menu,<=Prev Menu,>=Next Menu) -

     Again¬  "*¢ wilì gï directlù tï thå firsô menu¬  "<¢ oò 
",¢ wilì gï tï thå previouó menu¬  anä ">¢ oò ".¢ wilì gï tï 
thå  nexô  menu®   Strikinç thå RETURÎ keù wilì refresè  thå 
menõ display.

     Onå lasô optioî thå useò haó undeò MENÕ involveó accesó 
tï  á Systeí Menu®   Thió menõ ió speciaì iî thaô  therå  ió 
onlù onå waù tï geô tï iô -- viá thå "$¢ command.

     Thå  Systeí  Menõ ió intendeä tï givå privelegeä  useró 
accesó tï speciaì commandó thaô thå resô oæ thå useró  can'ô 
run®   Iæ  á Systeí Menõ ió available¬  MENÕ wilì responä tï 
thå "$¢ commanä witè thå prompt:

          Pass?

     Thå  useò  ió giveî onå chancå tï typå iî  thå  correcô 
passworä  tï enteò thå Systeí Menu®   Iæ hå  ió  wrong¬  thå 
messagå "Passworä Error¢ wilì appeaò anä hå wilì bå returneä 
tï thå menõ hå camå from®   Iæ hå ió correct¬  hå wilì enteò 
thå Systeí Menu®   Physically¬ thå Systeí Menõ ió alwayó thå 
lasô menõ iî thå file¬ anä itó commanä prompô is:

Command (<CR>=Menu,*=1st Menu,<=Prev Menu) -

     Iæ thå useò ió aô thå menõ jusô beforå thå Systeí Menu¬ 
thå ">¢ wilì noô functioî tï allo÷ hií tï enteò it¬ eveî thï 
therå  technicallù ió á "Nexô Menu"®   Thå ">¢ optioî iî thå 
commanä  linå  wilì noô appear®   Thå onlù waù  tï  enteò  á 
Systeí Menõ ió thrõ thå "$¢ command.

     Iî  summary¬  movinç  abouô withiî MENÕ ió quitå  easy®  
"*¢  moveó thå useò tï thå firsô menu¬  "<¢ tï thå  previouó 
menu¬ ">¢ tï thå nexô menu¬ anä "$¢ tï thå Systeí Menu.

:S

     The full Menu Command Line looks like the following:

Command (<CR>=Menu,^C=ZCPR3,*=1st Menu,<=Prev Menu,>=Last Menu) -

     The Menu Commands are:

          Command   Function

          <CR>      Refresh Menu Display (RETURN Key)
          ^C        Exit to ZCPR3 (Control-C)
          *         Jump to the First Menu
          < or ,    Jump to the Previous Menu
          > or .    Jump to the Next Menu
          $         Jump to the System Menu (Password Required)
          other     Menu Option or Invalid Command; letters are
                         automatically capitalized, so a=A

:P

                  Programming *.MNU Files

     Thå  *.MNÕ  filå  ió simplù á texô filå  whicè  maù  bå 
createä   witè  anù  conventionaì  CP/Í  editor¬   includinç 
WordStar®   MENÕ  ignoreó  thå Mosô Significanô Biô  oæ  alì 
bytes¬ sï editoró likå WordStar¬ whicè occasionallù seô thió 
bit¬ caî bå used.

     Alì *.MNÕ fileó havå thå samå generaì  structure®   Thå 
firsô  linå ió eitheò á globaì optioî linå oò thå  beginninç 
oæ á menõ display®   Iæ á globaì optioî line¬ iô beginó witè 
thå  characteò  "-"¬   anä  thió  characteò  ió  immediatelù 
followeä  bù  globaì optioî characters®   Thå globaì  optioî 
line¬ theî lookó likå this:

-options

     Afteò thå globaì optioî line¬  iæ any¬  comeó thå firsô 
menu®  Eacè menõ ió structureä aó follows:

                         #options
                              <Text of Menu Display>
                         #
                         menu commands

     The following are two sample Menu File structures:

               -options                 #options
               #options                      <Text>
                    <Text>              #
               #                        commands
               commands                 ##
               #options
                    <Text>
               #
               commands
               ##
     Therå arå fouò optioî characters®   Iî usinç them¬ caså 
ió noô significant®  Theså optioî characteró are:

          Option    Function
             C      Display Command Line to User
             D      Display Menu to User
             P      Page Out Menu Display
             X      Allow User to Exit to ZCPR3

     Thå Ã optioî displayó thå commanä linå builô bù MENÕ tï 
thå user®   Thió optioî ió primarilù intendeä foò  debugginç 
purposes¬  tï  allo÷ thå programmeò tï seå whaô commandó arå 
beinç built®   Iô ió instructivå tï thå user¬  however¬  anä 
maù bå employeä foò thaô purposå aó well.

     Thå  Ä optioî displayó thå menõ tï thå  user®   Iæ  thå 
displaù  functioî ió noô turneä on¬  wå arå iî Experô  Mode¬ 
anä  thå  commandó  arå availablå withouô  á  menõ  display®  
RETURN¬  oæ  course¬  caî  bå useä tï invokå thå displaù  iæ 
necessary.

     Thå Ğ optioî pageó ouô thå menõ display®   Iæ thå  pagå 
functioî  ió engaged¬  theî thå MENÕ prograí outputó  <CRLF¾ 
combinationó untiì 2´ lineó havå beeî printeä oî thå screen®  
Thió  ió  somewhaô morå attractivå anä eliminateó  olä  texô 
froí previouó commands¬  allowinç thå useò tï concentratå oî 
hió currenô seô oæ options®   However¬ iô ió annoyinç iæ thå 
useò  ió accessinç thå system¬  say¬  aô 30° bauä viá á diaì 
up®  Iô ió foò thió reasoî thaô thå MENÕ programmeò haó thió 
option.

     Finally¬  thå  Ø  optioî  enableó  thå  facilitù  whicè 
permitó thå useò tï typå ^Ã anä returî tï ZCPR3.


     Wheî MENÕ firsô comeó up¬ alì optionó arå turneä off:

          C is OFF -- no command display to user
          D is OFF -- no menu display to user
          P is OFF -- no menu display paging
          X is OFF -- user cannot exit to CP/M

     Thå  globaì optionó line¬  which¬  iæ present¬  ió  thå 
firsô  linå  oæ thå file¬  turnó oî theså  optionó  foò  thå 
courså  oæ  thå sessioî iî general®   Thaô is¬  iæ á  globaì 
optionó linå like

          -DPx

ió useä (caså ió insignificant)¬  theî menõ display¬ paging¬ 
anä  exiô  tï ZCPR³ wilì bå availablå foò  alì  menus®   Thå 
globaì optionó linå affectó alì menus.


     Thå globaì optionó linå turnó oî thå indicateä  optionó 
foò alì menuó iî general®   However¬ thå samå optionó maù bå 
presenteä  oî thå firsô linå oæ eacè menõ immediatelù  afteò 
thå  "#¢  characteò  tï temporarilù complemenô  thå  currenô 
optioî foò onlù thaô menu.

     Iæ  aî  optioî ió NOÔ includeä iî  thå  globaì  optionó 
line¬  iô  ió  turneä  OFÆ foò alì menuó  iî  general®   Thå 
defaultó  selecteä  bù  usinç thå globaì  optionó  linå  arå 
overriddeî oî á per-menõ basió bù thå locaì menõ options.

     Example:


    -dpx
    #x
         This menu is displayed and paged, but no
         exit to ZCPR3 is permitted
    #
    commands
    #dx
         This menu is not displayed and the user may not
         exit to ZCPR3.
    #
    commands
    #c
         Thió menõ ió displayed¬ paged¬ anä thå useò maù
         exit to ZCPR3.  Additionally, the MENU-generated
         commands are printed to the user.
    #
    commands
    ##

     Anù  optioî thaô maù appeaò oî thå globaì optionó  linå 
maù  alsï appeaò oî thå optionó linå foò á particulaò  menu®  
Thå menõ optionó linå supportó onå additionaì  option¬  viz® 
"$"®  Thió optioî declareó thå followinç menõ tï bå á Systeí 
Menu.
     Iî  programminç á *.MNÕ file¬  thå MENÕ programmeò MUSÔ 
placå thå Systeí Menõ aó thå lasô menõ iî thå filå iæ iô  ió 
goinç tï havå one®   Tï dï otherwiså ió flaggeä aó aî error®  
Thå  followinç illustrateó á *.MNÕ filå containinç á  Systeí 
Menu:
       -dp
       #
         Thió menõ ió displayeä anä paged¬ buô thå useò maù
         not exit to ZCPR3.
       #
       commands
       #$x
         This is a System Menu, and it is displayed, paged,
         and the user may exit to ZCPR3.
       ##

     Iæ  á  menõ ió á Systeí Menu¬  thå "$¢  characteò  musô 
immediatelù  follo÷  thå  "#"®   Iî thå caså oæ  thå  letteò 
optionó iî botè thå globaì anä locaì cases¬ thå ordeò ió noô 
importanô ("dpx¢ meanó thå samå aó "xpd").

     Thå  passworä useä tï enteò á Systeí Menõ ió hard-codeä 
in®   Iô maù bå altereä bù reassemblù oò uså oæ  DDT®   Notå 
thaô thió passworä caî bå upper- anä lower-case¬ anä caså ió 
significant.

:C

                       *.MNU Commands

     Thió   sectioî  describeó  thå  techniquå  anä  optionó 
availablå  foò creatinç commanä lineó iî *.MNÕ  files®   Thå 
informatioî  hereiî ió organizeä intï thå followinç  subjecô 
areas:

          o Syntax of the command line

          o :nn Option

          o ! Option

          o "text" prompts and input

          o Variables ($D, $U, $Fn, $Nn, $Tn, $$)

          o Highlighting (^A, ^B)

                                                              Syntax
     Thå commandó iî á *.MNÕ filå follo÷ á simplå structure®  
Eacè commanä occupieó onlù onå line¬  anä blanë lineó iî thå 
commanä  grouğ  arå  noô permitted®   Thå  commanä  linå  ió 
structureä aó follows:

          l[o][command]

where:
    l is the single character used to invoke the command
         note that it may be upper- or lower-case
    o is an opening option, which is one of:
         :nn -- go to Menu nn
         !   -- have MENU wait when the command is finished
    command is an optional ZCPR3 command; note that if
         the option is ":nn", then a command here makes no
         sense

                                                              :nn Opt
     Thå ":nn¢ optioî telló MENÕ tï movå tï á differenô menõ 
iî thå *.MNÕ file®  Thå firsô menõ ió numbeò 1®  Example:

          -dpx
          #
               1st Menu:  A - Goto Menu 2     3 - Goto Menu 3
          #
          a:2
          3:3
          #
                    2nd Menu Command: 3 - Goto Menu 3
          #
          3:3
          #x
                    3rd Menu Command: 2 - Goto Menu 2
          #
          2:2
          ##
                                                              :nn Opt
     Iî thå firsô menu¬ thå useò maù strike:

          "a¢ oò "A¢ tï gotï Menõ 2
          "3¢ tï gotï Menõ 3
          ">¢  oò  ".¢ tï gotï thå nexô menõ (Menõ 2)
          ^Ã tï gotï ZCPR3

     In the second menu, the user may strike:

          "3" to goto Menu 3
          "*" or "<" or "," to goto Menu 1
          ">" or "." to goto Menu 3
          ^C to goto ZCPR3

     In the third menu, the user may strike:

          "2" or "<" or "," to goto Menu 2
          "*" to goto Menu 1

                                                              ! Opt
     Thå "!¢ optioî causeó MENÕ tï pauså anä asë thå useò tï 
"Strikå  Anù Key¢ beforå continuinç afteò thå  commanä  linå 
haó  beeî processed®   Iî thió way¬  iæ á commanä  generateó 
informatioî  tï  bå reaä bù thå useò beforå MENÕ clearó  hió 
screen¬  thå "!¢ optioî maù bå useä tï givå thå useò alì thå 
timå hå wantó tï reaä thió display.

                                                              "prompt"
     Embeddeä  withiî anù commanä linå maù bå á  prompô  foò 
user input.  This prompt takes the form of

          "prompt to user"

Wheî  encountered¬  MENÕ  wilì advancå tï thå nexô linå  anä 
prinô thå texô containeä withiî thå quotes®   MENÕ wilì theî 
waiô foò thå useò tï inpuô anù texô hå desireó followeä bù á 
RETURN®    Aô  thió  point¬  thå  texô  thå  useò  inpuô  ió 
capitalizeä anä placeä intï thå commanä linå aô thå poinô oæ 
the prompt.

     Iæ  thå  prompô  appearó aô thå enä oæ á  MENÕ  commanä 
line¬  thå trailinç quotå ió noô required®   Aó manù promptó 
aó desireä maù appeaò withiî á MENÕ commanä line®  Examples:

                                                              "prompt"
    -dxp
    #
         A - Run XDIR without Pause or Input
         B - Run XDIR and Pause before Returning to MENU
         C - Run XDIR, Allow User Input, and Pause before
              Returning to MENU
         M - Run MCOPY, Allow User Input of Dest Dir, Allow
              User Input of Source Dir and File, and Pause
              before returning to MENU
         Z - Run Any ZCPR3 Command and Pause before
              Returning to MENU
    #
    m!mcopy "Destination Dir? "="Source DIR:AFN?  "
    z!"Enter Command Line --
    axdir
    b!xdir
    c!xdir "Enter Ambiguous File Name --
    ##

                                                              "prompt"
     Notå  thå Spacå righô beforå thå "Prompô forí iî thå  Ã 
command®   Thió spacå ió significanô tï keeğ thå commanä anä 
useò  inpuô froí runninç together®   Thió "ruî together¢  ió 
desireä  foò thå Ú command®   Alsï notå thå duaì prompô  foò 
the M command.

     Witè thå Í command¬  thå followinç promptó wilì  appeaò 
(and sample input):

          Destination Dir? BACKUP:
          Source DIR:AFN?  *.TXT

and the following command line is built:

          MCOPY BACKUP:=*.TXT

                                                              Variables
     Thå commanä texô whicè ió specifieä iî thå MENÕ commanä 
linå  caî contaiî embeddeä variableó whicè MENÕ wilì  expanä 
wheî thå commanä linå ió processed®   Theså variables¬ whicè 
arå  denoteä  bù á dollaò sigî ($© followeä bù  onå  oò  twï 
characters, are defined as follows:

     Variable  Expands as
     --------  ----------
       $D      Current Disk
       $U      Current User Area
       $Fn     FILENAME.TYP for ZCPR3 System File n
       $Nn     FILENAME for ZCPR3 System File n
       $Tn     TYP for ZCPR3 System File n
       $$      Place a single $ in command line

     Theså  variableó  caî alsï bå useä iî thå menõ  displaù 
itself¬  anä  theiò  valueó  wilì bå  substituteä  wheî  thå 
display is generated.  Example:

                                                              Variables
   -dpx
   #
               Menu to Run M80 Assembler
                              Current File: $F1
                              Directory: $D$U
          F - Define File
          E - Edit $F1        P - Page $F1
          A - Assemble $F1
   #
   fsetfile 1 "Filename? "
   eedit $f1
   azex m80 $n1
   ppage $f1
   ##

                                                              Variables
Notes:

     1® Thå ZCPR³ utilitù SETFILÅ ió useä tï definå thå namå 
oæ  á  ZCPR³  Systeí  File®   Therå arå  fouò  Systeí  Fileó 
available¬  anä theù caî bå referenceä bù $F± tï $F4¬ $N± tï 
$N4, and $T1 to $T4.

     2® Thå Á commanä showó thå executioî oæ ZEX®  MENÕ ió á 
truå ZCPR³ Shell¬  and¬  aó such¬ ZEØ commandó caî bå issueä 
froí iô anä wilì ruî oî toğ oæ it®   Thå prompô foò thå  ZEØ 
command lines will be "Menu>".

     3®  Assuminç thaô "MYFILE.MAC¢ ió assigneä tï thå ZCPR³ 
Systeí Filå ± anä thå useò ió loggeä intï disë Â useò 1¬ thå 
followinç  screeî  showó ho÷ thå displaù anä  thå  resultinç 
commanä lineó wilì bå expandeä wheî executioî occurs:

                                                              Variables
                          Display

               Menu to Run M80 Assembler
                              Current File: MYFILE.MAC
                              Directory: B1
          F - Define File
          E - Edit MYFILE.MAC        P - Page MYFILE.MAC
          A - Assemble MYFILE.MAC


                       Command Lines
     Menu Command                  Expansion

   fsetfile 1 "Filename? "     SETFILE 1 "Filename? "
   eedit $f1                   EDIT MYFILE.MAC
   azex m80 $n1                ZEX M80 MYFILE
   ppage $f1                   PAGE MYFILE.MAC

                                                              Highlighting
     Jusô  likå  thå HELĞ utilitù caî takå advantagå oæ  thå 
highlightinç facilitù provideä iî thå Z3TCAP¬  sï caî  MENU®  
Foò thoså ZCPR³ Systemó witè á properly-installeä TCAP¬ MENÕ 
wilì  uså  thå  cleaò screeî commanä tï refresè  thå  user'ó 
screeî  anä  highlightinç  caî bå enableä  anä  disableä  bù 
embeddinç  ^Á (tï turî oî highlighting© anä ^Â (tï turî  ofæ 
highlighting© intï thå *.MNÕ file.

     Iô ió recommendeä thaô wheî highlightinç ió turneä  on¬ 
iô  shoulä  bå turneä ofæ iî thå samå linå  foò  consistencù 
sake and appearance.

     Example:

                                                              Highlighting
   #
          ^AThis is highlighted^B and this is not
   #

wilì appeaò witè "Thió ió highlighted¢ iî á highlighteä modå 
likå this:

          This is highlighted and this is not


                                                              Closing
                       Closing Notes

     Aó  manù commandó aó thå printablå ASCIÉ characteò  seô 
(withouô lower-caså letteró anä thå MENÕ commanä characters© 
wilì allo÷ arå permitteä bù MENU®   Thå text¬  however¬  foò 
eacè  menõ musô bå ablå tï fiô oî á screeî witè thå  commanä 
prompô  aô  thå  bottom®   Thió meanó thaô thå  texô  cannoô 
exceeä 2² lines.

     MENÕ  fitó iî nicelù tï thå ZCPR³ Systeí  oæ  programs®  
Thå informatioî sectioî oî "MENU'ó Relationshiğ tï thå ZCPR³ 
System¢  explainó ho÷ MENÕ anä thå otheò ZCPR³ programó worë 
together.

     Thå  followinç  ASCIÉ  characteró maù NOÔ  bå  useä  aó 
commandó sincå theù arå useä elsewhere:

          <SPACE>   #    %    ,    .    <    >    *    <DEL>
          <Any Char Less than Space>
:M

              MENU Programming Command Summary

     Eacè  MENÕ commanä occupieó onlù onå  line¬  anä  blanë 
lineó  iî thå commanä grouğ arå noô permitted®   Thå commanä 
linå ió structureä aó follows:

          l[o][command]

where:
    l is the single character used to invoke the command
         note that it may be upper- or lower-case
    o is an opening option, which is one of:
         :nn -- go to Menu nn
         !   -- have MENU wait when the command is finished
    command is an optional ZCPR3 command; note that if
         the option is ":nn", then a command here makes no
         sense

The MENU commands are:

    Command   Function

    :nn       Goto Menu nn, where the first menu is Menu 1
    !         Wait after command line is executed before
                   processing the menu
    "Prompt"  Prompt the user for input and accept it

The MENU variables are:

     Variable  Expands to

        $D     Current Disk
        $U     Current User
        $Fn    FILENAME.TYP for System File n
        $Nn    FILENAME for System File n
        $Tn    TYP for System File n
        $$     $

Noteº Systeí Fileó caî bå defineä bù thå SETFILÅ command.

The Highlighting Embedded Characters are:
     ^A   Turn ON Highlighting
     ^B   Turn OFF Highlighting

Noteº  Iô ió recommendeä thaô iæ highlightinç ió turneä  on¬ 
it should be turned off in the same line.



Thå  followinç ASCIÉ characteró maù NOÔ bå useä aó  commandó 
sincå theù arå useä elsewhere:

          <SPACE>   #    %    ,    .    <    >    *    <DEL>

          <Any Char Less than Space>

:Z

          MENU's Relationship to the ZCPR3 System

     MENU¬  likå mosô oæ thå ZCPR³ utilities¬ interactó witè 
thå systeí aó á wholå anä cannoô bå useä witè systemó  otheò 
thaî ZCPR3®  Iî particular¬ MENÕ requireó thå ZCPR³ Multiplå 
Commanä  Linå  Buffeò  anä  Shelì  Stacë  facilitieó  tï  bå 
availablå  tï iô anä cannoô ruî withouô them®   MENÕ invokeó 
commanä  lineó  viá thå Commanä Linå Buffeò anä  returnó  tï 
itselæ thrõ thå Shelì Stack®   Iô alsï useó thå ZCPR³ Systeí 
Fileó foò somå oæ itó variableó anä thå Z3TCAĞ facilitù  foò 
itó screeî manipulatioî (highlighting).

     MENU is installed by Z3INS.


     Also¬ CÄ (Changå Directory© anä STARTUĞ (or¬ SÔ foò CD© 
caî  comå  intï plaù witè MENU®   Wheî CÄ logó intï  tï  ne÷ 
directory¬  iô  lookó foò thå filå ST.COÍ anä executeó iô iæ 
therå  ió one®   SÔ ió simplù STARTUĞ renamed¬  anä  STARTUĞ 
wilì  loaä thå Multiplå Commanä Linå Buffeò witè  á  commanä 
linå anä theî terminate.

     Froí  thå poinô oæ vie÷ oæ MENU¬  thå commanä loadeä bù 
SÔ  coulä bå MENU®   Thå effecô oæ thió ió tï  automaticallù 
enteò  MENÕ  wheî  thå  useò employó CÄ  tï  enteò  á  giveî 
directory.

     Hence¬  bù usinç CD¬  á useò caî enteò á directorù  anä 
suddenlù  finä  himselæ  iî á menõ insteaä oæ aô  thå  ZCPR³ 
commanä  level®   Thió  ió  gooä foò  applicationó  wherå  á 
directorù  ió  seô  asidå foò á specifiã  purposå  anä  onlù 
certaiî  operationó  arå  tï bå performeä  iî  it¬  sucè  aó 
cataloginç diskó oò handlinç accounts.


     No÷  thaô  MENÕ ió runninç foò thå  directory¬  á  MENÕ 
commanä  coulä bå anotheò CÄ tï anotheò  directory®   Oò  iô 
coulä simplù bå á DUº form®  Example:

          #dp
               A - Enter ZCPR Directory
               B - Enter A0:
          #
          acd zcpr:
          ba0:
          #

     Here¬  iæ Á ió issued¬ theî CÄ wilì movå intï ZCPRº anä 
executå ST.COÍ iæ therå ió onå there®   Iæ Â ió issued¬  thå 
useò  ió loggeä intï A0:®   MENÕ ió thå nexô commanä iî botè 
caseó (commanä lineó arå "CÄ ZCPR;MENU¢ anä "A0:;MENU")¬  sï 
MENÕ automaticallù reinvokeó anä lookó foò MENU.MNU®   Iæ iô 
findó it¬ wå arå iî anotheò MENÕ system¬ and¬ iæ iô doesn't¬ 
wå arå bacë tï ZCPR³ commanä level.

     Undeò thå Á option¬ iæ CÄ findó ST.COM¬ SÔ wilì executå 
itó functioî and¬  unlesó thió functioî popó thå Shelì Stacë 
(SHPOĞ command)¬ MENÕ wilì reinvokå afteò iô ió complete.

     Undeò  thå Â option¬  wå wilì ruî MENÕ nexô anä  simplù 
exiô iæ á MENU.MNÕ filå ió noô found.

:E

                    MENU Error Messages

     Iî ordeò tï makå MENÕ aó smalì aó possible¬  thå  erroò 
messageó  havå beeî reduceä tï á minimum®   MENÕ provideó  á 
minimuí indicatioî thaô somethinç ió wronç anä aborts.

     Thå  prograí  MENUCË  ió  designeä  tï  telì  yoõ  morå 
specificallù  whaô  ió  wrong®   MENUCË ió  á  *.MNÕ  Syntaø 
Checker¬ anä iô lookó foò alì sortó oæ erroò conditionó thaô 
caî occuò iî á *.MNÕ file.

     MENÕ provideó thå followinç minimaì erroò messages:


          Message             Meaning

          No Shell Stack      Shell Stack Not Available
          No Command Line     Command Line Buffer Not Avail
          Shell Stack Full    Shell Stack is Full
          Shell Stack Entry
             Size             Shell Stack Entries are too
                                   short for MENU cmd line
          File x.typ Not
             Found            Menu File Not Found
          TPA Full            Memory is Full
          <Bell>              User Command is in Error
          Password Error      Invalid Password Given
          Structure Error     *.MNU File Structure Error

:2

Command:  MENUCK 1.0

Syntax:
     MENUCK dir:ufn      <-- default file type is MNU

Function:

     MENUCË  ió useä tï checë thå syntaø oæ á *.MNÕ filå foò 
thå ZCPR³ Menõ Shell¬  MENU®  MENÕ ió optimizeä foò sizå anä 
speed¬  and¬  iî deepinç iô small¬ built-iî diagnosticó werå 
reduceä  tï thå minimum®   MENUCË ió intendeä tï bå useä  tï 
analyzå  *.MNÕ fileó anä providå informativå diagnosticó  oî 
any syntactical errors with them.

Options:
     None


Comments:

     MENUCË  checkó tï seå iæ thå sizå oæ thå *.MNÕ filå  ió 
toï largå foò thå TPÁ availablå tï thå MENÕ  command®   Thió 
is an additional check beyond the normal syntax check.

     MENUCË  identifieó  thå  locatioî  oæ  erroró  bù  linå 
number.  The first line in the file is line number 1.

Selected Error Messages:

     Self-Explanatory.

Examples of Use:

     MENUCK MYMENU
          -- perform check on MYMENU.MNU

